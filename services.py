import asyncio as a


eqData = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "intensity": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.29705810546874,
              -12.131977403173144
            ],
            [
              -77.27645874023438,
              -12.15748596281456
            ],
            [
              -77.222900390625,
              -12.18836147201145
            ],
            [
              -77.19818115234375,
              -12.101095354279368
            ],
            [
              -77.25860595703125,
              -12.001711546616935
            ],
            [
              -77.33413696289062,
              -12.058123089867408
            ],
            [
              -77.29705810546874,
              -12.131977403173144
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "intensity": 2
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.34649658203125,
              -11.92110315424958
            ],
            [
              -77.37258911132812,
              -11.927821437111167
            ],
            [
              -77.3876953125,
              -11.966784193467403
            ],
            [
              -77.51541137695312,
              -12.341343394012751
            ],
            [
              -77.15972900390625,
              -12.384269678111272
            ],
            [
              -77.15560913085938,
              -12.123921561081414
            ],
            [
              -77.22427368164062,
              -11.907666089671903
            ],
            [
              -77.34649658203125,
              -11.92110315424958
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "intensity": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.46597290039062,
              -11.69392794890226
            ],
            [
              -77.53463745117188,
              -11.7988014362033
            ],
            [
              -77.54837036132812,
              -12.129292149521191
            ],
            [
              -77.58544921874999,
              -12.323902579545948
            ],
            [
              -77.42889404296874,
              -12.480827967300415
            ],
            [
              -76.99630737304688,
              -12.498258273109517
            ],
            [
              -77.06085205078125,
              -12.331952330450884
            ],
            [
              -76.96334838867188,
              -12.114522771118361
            ],
            [
              -76.83975219726562,
              -11.876758320334378
            ],
            [
              -77.266845703125,
              -11.808211204405042
            ],
            [
              -77.46597290039062,
              -11.69392794890226
            ]
          ]
        ]
      }
    }
  ]
}

damageData = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "intensity": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.16796875,
              -12.071552663274494
            ],
            [
              -77.11029052734375,
              -12.043349782467887
            ],
            [
              -77.13157653808594,
              -11.977531552647788
            ],
            [
              -77.14118957519531,
              -12.011114292027393
            ],
            [
              -77.14118957519531,
              -12.051408050951387
            ],
            [
              -77.16796875,
              -12.071552663274494
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "intensity": 2
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.17414855957031,
              -12.070881200585672
            ],
            [
              -77.17414855957031,
              -12.084981563528286
            ],
            [
              -77.13294982910155,
              -12.067523861901428
            ],
            [
              -77.03956604003905,
              -12.121236226304873
            ],
            [
              -77.07321166992188,
              -12.08968151945437
            ],
            [
              -76.98394775390625,
              -12.072224124280432
            ],
            [
              -76.9097900390625,
              -11.994323445073706
            ],
            [
              -77.04093933105469,
              -11.985591791400083
            ],
            [
              -77.07252502441406,
              -11.931180516146538
            ],
            [
              -77.135009765625,
              -11.94730351608766
            ],
            [
              -77.14874267578124,
              -12.01447233584028
            ],
            [
              -77.15080261230469,
              -12.048050468478785
            ],
            [
              -77.17414855957031,
              -12.070881200585672
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "intensity": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              -77.18032836914062,
              -12.064837960671113
            ],
            [
              -77.18032836914062,
              -12.072895583603385
            ],
            [
              -77.17689514160156,
              -12.08968151945437
            ],
            [
              -77.13294982910155,
              -12.070881200585672
            ],
            [
              -77.0306396484375,
              -12.144060709747615
            ],
            [
              -77.03681945800781,
              -12.205140133465818
            ],
            [
              -76.88438415527344,
              -12.280295472001269
            ],
            [
              -76.89743041992188,
              -12.199099937697458
            ],
            [
              -76.97090148925781,
              -12.123250229921672
            ],
            [
              -76.93107604980469,
              -12.10445227176988
            ],
            [
              -76.9427490234375,
              -12.066852389117159
            ],
            [
              -76.85623168945312,
              -12.028575662342247
            ],
            [
              -76.92352294921875,
              -11.948647056101741
            ],
            [
              -76.9757080078125,
              -11.974844752931832
            ],
            [
              -76.9427490234375,
              -11.900275420844231
            ],
            [
              -77.04093933105469,
              -11.955364656152383
            ],
            [
              -77.01828002929688,
              -11.851223169778889
            ],
            [
              -77.06428527832031,
              -11.915728408209805
            ],
            [
              -77.08351135253906,
              -11.857271184616796
            ],
            [
              -77.17620849609375,
              -11.831734210961754
            ],
            [
              -77.13912963867188,
              -11.931852326960579
            ],
            [
              -77.15766906738281,
              -12.043349782467887
            ],
            [
              -77.18032836914062,
              -12.064837960671113
            ]
          ]
        ]
      }
    }
  ]
}


class EqSvc():
    async def exec(self):
        await a.sleep(1)
        return eqData


class Deus():
    async def exec(self, intensity):
        print("Got intensity: ", intensity)
        await a.sleep(1.5)
        newDamageData = damageData.copy()
        for feature in newDamageData["features"]:
            feature["properties"]["intensity"] += intensity
        return newDamageData